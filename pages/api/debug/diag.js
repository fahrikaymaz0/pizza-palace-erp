import { prisma, ensurePrismaSchema } from '../../../lib/prisma';export default async function handler(req, res) {  try {    await ensurePrismaSchema();    const dbUrl = process.env.DATABASE_URL || '';    // Basit okuma: toplam kullanıcı sayısı (tablo yoksa 0 olarak döner)    let userCount = null;    try {      userCount = await prisma.user.count();    } catch (e) {      userCount = `err:${e?.message || e}`;    }    res.status(200).json({      ok: true,      env: {        hasDatabaseUrl: !!dbUrl,        dbUrlScheme: dbUrl.split(':')[0] || null      },      prisma: {        userCount      }    });  } catch (e) {    res.status(500).json({ ok: false, error: e?.message || e });  }}